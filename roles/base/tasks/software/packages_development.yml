- name: system setup | development packages | install packages
  tags: dev,development,packages,python,ruby
  package:
    name:
      - fabric
      - flake8
      - git
      - perl
      - "{{ python_flake8_package }}"
      - "{{ python_package }}"
      - "{{ python_pip_package }}"
      - "{{ python_pyflakes_package }}"
      - python-setuptools
      - "{{ python_virtualenv_package }}"
      - ruby
      - "{{ ruby_rake_package }}"
      - tig
      - python-pexpect
    state: latest
  become: yes
  become_user: "{{ user.name }}"

- name: system setup | development packages | .config dir
  tags: dev, development, python
  file:
    path: "/{{ users_folder }}/{{ user.name }}/.config"
    state: directory
  become: yes
  become_user: "{{ user.name }}"

- name: system setup | development packages | download speedtest
  tags: dev, development, python
  get_url:
    url: "https://raw.githubusercontent.com/sivel/speedtest-cli/master/speedtest.py"
    dest: /{{ users_folder }}/{{ user.name }}/.config
    mode: 0770
  become: yes
  become_user: "{{ user.name }}"
